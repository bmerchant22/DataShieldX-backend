(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{864:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/client/dashboard",function(){return s(7720)}])},9021:function(e,t,s){"use strict";var a=s(5893);s(7294);var n=s(948),o=s(629),r=s(3946),i=s(1703),l=s(44),c=s(5675),d=s.n(c),p=s(1664),x=s.n(p);let h=(0,n.ZP)(o.Z)({position:"sticky",zIndex:"100",display:"flex",backgroundColor:"#FFFFFF",fontSize:"20px",fontFamily:"'Montserrat'",alignItems:"center",gap:"10px",paddingLeft:"10px",marginBottom:"10px",width:"100%",height:"75px",top:"0",boxShadow:"0px 0px 5px 0px #D1D1D1",borderRadius:"10px",boxSizing:"border-box"});(0,n.ZP)(r.Z)({marginRight:"10px"}),t.Z=e=>{let{currentTab:t,onTabChange:s}=e;return(0,a.jsxs)(h,{elevation:1,children:[(0,a.jsx)(x(),{href:"/client/dashboard",onClick:()=>{s(void 0,"Dashboard")},children:(0,a.jsx)(d(),{src:"/assets/logo.jpg",alt:"Company Logo",width:"150",height:"40",borderRadius:"50%"})}),(0,a.jsx)("p",{children:"v0.0.13"}),["Dashboard","Chat","Apps"].includes(t)?(0,a.jsxs)(i.Z,{value:t,onChange:s,sx:{flexGrow:1},children:[(0,a.jsx)(l.Z,{label:"Dashboard",value:"Dashboard"}),(0,a.jsx)(l.Z,{label:"Chat",value:"Chat"}),(0,a.jsx)(l.Z,{label:"Apps",value:"Apps"})]}):(0,a.jsxs)(i.Z,{value:t,onChange:s,sx:{flexGrow:1},children:[(0,a.jsx)(l.Z,{component:"a",href:"/client/dashboard",label:"Dashboard",value:"Dashboard"}),(0,a.jsx)(l.Z,{component:"a",href:"/client/dashboard?tab=Chat",label:"Chat",value:"Chat"}),(0,a.jsx)(l.Z,{component:"a",href:"/client/dashboard?tab=Apps",label:"Apps",value:"Apps"})]})]})}},3933:function(e,t,s){"use strict";s.d(t,{$k:function(){return o},bY:function(){return r},j0:function(){return n},mW:function(){return i},ty:function(){return l}});var a=s(5121);let n=async e=>{try{await a.Z.post("".concat("http://localhost:8001","/start/").concat(e,"/").concat(8080+e))}catch(e){throw console.error("Error starting team:",e),e}},o=async e=>{try{await a.Z.post("".concat("http://localhost:8001","/stop/").concat(e))}catch(e){throw console.error("Error stopping team:",e),e}},r=async e=>{try{let t=await a.Z.get("".concat("http://localhost:8001","/logs/").concat(e));return t.data}catch(e){throw console.error("Error fetching logs:",e),e}},i=async()=>{try{let e=await a.Z.get("".concat("http://localhost:8001","/getProjects"));if(200==e.status)return console.log("Fetched projects successfully"),console.log(e.data),e.data.projects}catch(e){throw console.error("Error getting all projects",e),e}},l=async e=>{try{let t=await a.Z.post("".concat("http://localhost:8001","/updateProject"),e);if(200==t.status)console.log("Updated project successfully"),console.log(e);else throw Error("Status code ".concat(t.status))}catch(t){throw console.error("Error in updated project with id",e.project_id),console.error(t),t}}},7720:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Y}});var a=s(5893),n=s(7294),o=s(6886),r=s(3156),i=s(3946),l=s(2761),c=s(3667),d=s(6443),p=s(9417),x=s(5616),h=s(6242),u=s(2023),m=s(4267),g=s(3965),j=s(5861),b=s(1664),f=s.n(b),v=e=>{let{linkTo:t,app_name:s,app_desc:n,image:o}=e;return(0,a.jsxs)(h.Z,{sx:{maxWidth:345,height:"100%",borderRadius:"10px",boxShadow:"0px 0px 5px 0px #D1D1D1"},children:[void 0!=o?(0,a.jsx)(g.Z,{component:"img",alt:"Card image",height:"250",image:o}):"",(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(j.Z,{gutterBottom:!0,variant:"h5",component:"div",children:s}),(0,a.jsx)(j.Z,{variant:"body2",color:"text.secondary",children:n})]}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)("a",{href:"/app/code",children:(0,a.jsx)(p.Z,{size:"small",children:"Launch"})}),(0,a.jsx)(f(),{href:t,children:(0,a.jsx)(p.Z,{variant:"contained",children:"Learn more"})})]})]})},y=e=>{let{linkTo:t,app_name:s,app_desc:n,image:o}=e;return(0,a.jsxs)(h.Z,{sx:{maxWidth:345,height:"100%",borderRadius:"10px",boxShadow:"0px 0px 5px 0px #D1D1D1"},children:[void 0!=o&&(0,a.jsx)(g.Z,{component:"img",alt:"Card image",height:"250",image:o}),(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(j.Z,{gutterBottom:!0,variant:"h5",component:"div",children:s}),(0,a.jsx)(j.Z,{variant:"body2",color:"text.secondary",children:n})]}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{size:"small",children:"Request"}),(0,a.jsx)(f(),{href:t,children:(0,a.jsx)(p.Z,{variant:"contained",children:"Learn more"})})]})]})},Z=s(3933);let w=[{app_name:"VSCode",app_desc:"Code editor",image:"https://imgs.search.brave.com/i_x3Xj7berzbEMNffR4YncVE-AcMw4MHEn6bVCps96c/rs:fit:500:0:0/g:ce/aHR0cHM6Ly9sb2dv/dHlwLnVzL2ZpbGUv/dnMtY29kZS5zdmc.svg"}],C=[{app_name:"VSCode",app_desc:"Code editor",image:"https://imgs.search.brave.com/i_x3Xj7berzbEMNffR4YncVE-AcMw4MHEn6bVCps96c/rs:fit:500:0:0/g:ce/aHR0cHM6Ly9sb2dv/dHlwLnVzL2ZpbGUv/dnMtY29kZS5zdmc.svg"},{app_name:"Figma",app_desc:"Designing app",image:"https://imgs.search.brave.com/FdIGGfc3R9dZX9ggCvuTLVjuAb0LfOkNMSxiNmq0NrE/rs:fit:500:0:0/g:ce/aHR0cHM6Ly9sb2dv/dHlwLnVzL2ZpbGUv/ZmlnbWEuc3Zn.svg"}];var _=()=>{let[e,t]=(0,n.useState)(""),[s,b]=(0,n.useState)(w),[f,_]=(0,n.useState)("Installed"),[F,D]=(0,n.useState)({}),[S,k]=(0,n.useState)([]),R=async()=>{try{k(await (0,Z.mW)()),console.log(S)}catch(e){console.error("Couldn't fetch project data",e)}};(0,n.useEffect)(()=>{R()},[f]);let P=(e,t)=>{_(t),b(L(t))},E=e=>{D(t=>({...t,[e]:!t[e]}))},L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;switch(e){case"Installed":return w;case"Permissions":return S.map(e=>({...e,apps:e.apps.filter(e=>"approved"===e.approval_status)}));case"Requests":return S.map(e=>({...e,apps:e.apps.filter(e=>"requested"===e.approval_status)})).filter(e=>e.apps.length>0);case"Global":return C;default:return[]}},M=e=>{let{project:t,isExpanded:s,onToggleMilestones:o}=e,[r,i]=n.useState(null),[l,x]=(0,n.useState)(t.apps),[h,u]=(0,n.useState)([]);console.log("apps"),console.log(t.apps);let m=e=>{let s=l.toSpliced(e,1);x(s),console.log("new project obj:"),console.log({...t,apps:s}),(async()=>{try{await (0,Z.ty)({...t,apps:s})}catch(e){console.error(e)}})()};return(0,a.jsxs)("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"10px",boxShadow:"0px 0px 5px 0px #D1D1D1",marginTop:"20px",padding:"10px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",position:"relative"},children:[(0,a.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute"},onClick:o}),(0,a.jsxs)("div",{style:{minWidth:"50%"},children:[(0,a.jsx)("h2",{children:t.name}),s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"APPS:"}),(0,a.jsx)("div",{children:l.map((e,t)=>(0,a.jsx)("span",{style:{marginRight:"5px"},children:(0,a.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,a.jsx)("button",{style:{height:"40px",paddingLeft:"20px",paddingRight:"40px",margin:"10px",borderRadius:"40px",backgroundColor:t===r?"#1977d2":"#FFFFFF",color:t===r?"#FFFFFF":"#1977d2",border:"2px solid ".concat(t===r?"#FFFFFF":"#1977d2"),transition:"background-color 0.3s ease, color 0.3s ease, border 0.3s ease"},children:e.app_name}),(0,a.jsx)("button",{onClick:e=>{m(t),e.stopPropagation()},style:{position:"absolute",top:"50%",right:"15%",transform:"translateY(-60%)",backgroundColor:"#FFFFFF",color:"#DDD",borderRadius:"50%",border:"none",cursor:"pointer",display:"block",fontSize:"20px"},children:"x"})]})},t))}),(0,a.jsx)(d.Z,{multiple:!0,options:w.filter(e=>!l.map(e=>e.app_name).includes(e.app_name)).map(e=>(delete e.image,e.approval_status="approved",e)),getOptionLabel:e=>e.app_name,value:h,onChange:(e,t)=>{u(t)},renderInput:e=>(0,a.jsx)(c.Z,{...e,label:"Applications to Permit"})}),(0,a.jsx)(p.Z,{variant:"contained",onClick:()=>{if(h==[])return;let e=[...l,...h];x(e),console.log("new project obj:"),console.log({...t,apps:e}),(async()=>{try{await (0,Z.ty)({...t,apps:e}),u([])}catch(e){console.error(e)}})()},children:"Add Applications"})]})]}),(0,a.jsx)("span",{style:{transform:s?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.3s ease"},children:"â–¶"})]})},A=e=>{let{linkTo:t,app_name:n="Lizard",app_desc:o,image:r,index:i,project:l}=e;return(0,a.jsxs)(h.Z,{sx:{maxWidth:345,height:"100%",borderRadius:"10px",boxShadow:"0px 0px 5px 0px #D1D1D1"},children:[void 0!=r?(0,a.jsx)(g.Z,{component:"img",alt:"Card image",height:"250",image:r}):"",(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(j.Z,{gutterBottom:!0,variant:"h5",component:"div",children:name}),(0,a.jsx)(j.Z,{variant:"body2",color:"text.secondary",children:"Project 1"})]}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{variant:"contained",onClick:async()=>{let e=l.apps;e[l.apps.findIndex(e=>e.app_name===n)].approval_status="approved";try{await (0,Z.ty)({...l,apps:e})}catch(e){console.error(e)}b(s.toSpliced(i,1))},children:"Accept"}),(0,a.jsx)(p.Z,{variant:"contained",onClick:async()=>{let e=l.apps.filter(e=>e.app_name!=n);try{let t=await (0,Z.ty)({...l,apps:e});if(200!=t.status)throw Error("status code ".concat(t.status))}catch(e){console.error(e)}b(s.toSpliced(i,1))},children:"Deny"}),"//once call goes through, remove self from filtered cards using index"]})]})};return(0,a.jsx)("div",{style:{backgroundColor:"#f6f6f6",minHeight:"100vh"},children:(0,a.jsx)(r.Z,{maxWidth:"xl",children:(0,a.jsxs)(x.Z,{border:"1px solid #ddd",boxShadow:"0px 0px 5px 0px #D1D1D1",borderRadius:"10px",p:2,sx:{backgroundColor:"#FBF8F8"},children:[(0,a.jsxs)("div",{style:{height:"50px",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(p.Z,{variant:"Installed"===f?"contained":"outlined",onClick:()=>P({},"Installed"),style:{marginRight:"8px",width:"150px",borderRadius:"40px"},children:"Installed"}),(0,a.jsx)(p.Z,{variant:"Permissions"===f?"contained":"outlined",onClick:()=>P({},"Permissions"),style:{marginRight:"8px",width:"150px",borderRadius:"40px"},children:"Permissions"}),(0,a.jsx)(p.Z,{variant:"Requests"===f?"contained":"outlined",onClick:()=>P({},"Requests"),style:{marginRight:"8px",width:"150px",borderRadius:"40px"},children:"Requests"}),(0,a.jsx)(p.Z,{variant:"Global"===f?"contained":"outlined",onClick:()=>P({},"Global"),style:{width:"150px",borderRadius:"40px"},children:"Global"})]}),(0,a.jsxs)(x.Z,{display:"flex",alignItems:"center",children:[(0,a.jsx)("form",{onSubmit:t=>{t.preventDefault();let s=L().filter(t=>t.name.toLowerCase().includes(e.toLowerCase()));b(s)},style:{display:"flex",marginRight:"8px"},children:(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)(i.Z,{type:"submit",sx:{p:"10px"},children:(0,a.jsx)(l.Z,{})}),(0,a.jsx)(c.Z,{label:"Search...",value:e,onChange:e=>{t(e.target.value)},sx:{ml:1,width:"200px",borderRadius:"20px"}})]})}),(0,a.jsx)(p.Z,{style:{width:"150px",height:"60px",borderRadius:"40px",backgroundColor:"#1977d2",color:"#fff"},children:"Magic Search"})]})]}),(0,a.jsx)(o.ZP,{item:!0,xs:12,children:(0,a.jsx)(o.ZP,{container:!0,spacing:2,children:s.map((e,t)=>(0,a.jsxs)(o.ZP,{item:!0,xs:12,sm:6,md:4,children:["Installed"==f&&(0,a.jsx)(v,{linkTo:"/client/app?id=".concat(e.name),...e,image:e.image}),"Requests"==f&&(0,a.jsx)(A,{linkTo:"/client/app?id=".concat(e.name),name:e.name,description:e.description,image:e.image,index:t}),"Global"==f&&(0,a.jsx)(y,{linkTo:"/client/app?id=".concat(e.name),...e,image:e.image})]},t))})}),"Permissions"===f&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{children:(0,a.jsx)(e=>{let{projects:t}=e;return(0,a.jsx)("div",{children:t.map((e,t)=>(0,a.jsx)(M,{project:e,isExpanded:F[e.name],onToggleMilestones:()=>E(e.name)},t))})},{projects:s})})})]})})})},F=s(5121),D=s(657),S=s(6191),k=s(720),R=s(9382),P=s(9822),E=s(7484),L=s.n(E),M=e=>{let{projects:t}=e,[s,r]=(0,n.useState)(!1),[i,l]=(0,n.useState)("Create"),[u,m]=(0,n.useState)([]),[g,j]=(0,n.useState)([]),[b,v]=(0,n.useState)({name:"",project_desc:"",milestones:[],team:[],apps:[]});return(0,n.useEffect)(()=>{m(["user0","user1","user2"].map(e=>({username:e}))),j([{app_name:"VSCode",app_desc:"desc"}])},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Z,{open:s,onClose:()=>{r(!1),l("Create")},fullWidth:!0,children:(0,a.jsx)(k._,{dateAdapter:R.y,children:(0,a.jsxs)(h.Z,{style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",gap:"10px",padding:"20px",overflowY:"auto"},children:[(0,a.jsx)("h1",{children:"Create New Project"}),(0,a.jsx)(c.Z,{label:"Project Name",value:b.name,onChange:e=>{v({...b,name:e.target.value})}}),(0,a.jsx)(c.Z,{multiline:!0,label:"Project Description",value:b.project_desc,onChange:e=>{v({...b,project_desc:e.target.value})}}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"start",alignItems:"center",gap:"10px"},children:[(0,a.jsx)("h3",{children:"Milestones"}),(0,a.jsx)(p.Z,{variant:"contained",onClick:async()=>{},children:"Generate using AI"})]}),b.milestones.map((e,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(c.Z,{style:{flexGrow:"1"},autoFocus:!0,label:"Milestone ".concat(t+1),value:e.milestone_desc,onChange:s=>{v({...b,milestones:[...b.milestones.slice(0,t),{milestone_desc:s.target.value,completion_date:e.completion_date},...b.milestones.slice(t+1)]})}},t),(0,a.jsx)(S.Z,{style:{height:"40px",width:"40px",cursor:"pointer"},onClick:()=>{v({...b,milestones:[...b.milestones.slice(0,t),...b.milestones.slice(t+1)]})}})]}),(0,a.jsx)(P.N,{label:"Completion Date",value:L()(e.completion_date),onChange:s=>{v({...b,milestones:[...b.milestones.slice(0,t),{milestone_desc:e.milestone_desc,completion_date:s.format("YYYY/MM/DD")},...b.milestones.slice(t+1)]})}})]})),(0,a.jsx)(c.Z,{label:"New Milestone",onFocus:()=>{v({...b,milestones:[...b.milestones,{milestone_desc:"",completion_date:L()().format("YYYY/MM/DD")}]})}}),(0,a.jsx)(d.Z,{multiple:!0,options:u,getOptionLabel:e=>e.username,onChange:(e,t)=>{v({...b,team:t})},renderInput:e=>(0,a.jsx)(c.Z,{...e,label:"Team Members"})}),(0,a.jsx)(d.Z,{multiple:!0,options:g,getOptionLabel:e=>e.app_name,onChange:(e,t)=>{v({...b,apps:t})},renderInput:e=>(0,a.jsx)(c.Z,{...e,label:"Allowed Applications"})}),(0,a.jsx)(p.Z,{onClick:async()=>{l("Loading...");let e=0;for(let s of t)Number(s.project_id)>e&&(e=Number(s.project_id));console.log("max_id:",e);let s={...b,milestones:b.milestones.map((e,t)=>({...e,milestone_id:String(t+1)})),apps:b.apps.map(e=>({...e,approval_status:"approved"})),project_id:String(e+1)};try{await F.Z.post("".concat("http://localhost:8001","/createProject"),s)}catch(e){console.log("error in creating project"),console.log(s),console.error(e);return}l("Create"),r(!1),v({name:"",project_desc:"",milestones:[],team:[],apps:[]}),window.location.reload()},variant:"contained",children:i})]})})}),(0,a.jsxs)("div",{style:{backgroundColor:"#FBF8F8",boxShadow:"0px 0px 5px 0px #D1D1D1",padding:"16px",borderRadius:"10px"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("h1",{children:"Active projects"}),(0,a.jsx)(p.Z,{sx:{height:"50px",borderRadius:"50px"},variant:"contained",onClick:()=>{r(!0)},children:"New Project"})]}),(0,a.jsx)(o.ZP,{container:!0,spacing:3,children:t.map((e,t)=>(0,a.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,a.jsxs)(h.Z,{sx:{width:"100%",height:"350px",borderRadius:"10px",boxShadow:"0px 0px 5px 0px #D1D1D1",margin:0,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,a.jsxs)(x.Z,{textAlign:"center",children:[(0,a.jsx)("h1",{children:e.name}),(0,a.jsx)("h5",{color:"grey",children:e.project_desc})]}),(0,a.jsx)(x.Z,{textAlign:"center",pb:2,children:(0,a.jsx)(f(),{href:"/client/instance?id=".concat(e.project_id),passHref:!0,children:(0,a.jsx)(p.Z,{variant:"contained",children:"View details"})})})]})},t))})]})]})},A=s(9021);function I(){return(0,a.jsx)("iframe",{src:"http://localhost:3000/channel/general",style:{width:"100%",height:"100%",border:"none"},title:"Rocket.Chat"})}var N=s(9332);function Y(e,t){let s=(0,N.useSearchParams)().get("tab");console.log(s||"Dashboard");let[o,r]=(0,n.useState)(s||"Dashboard"),[i,l]=(0,n.useState)([]);return(0,n.useEffect)(()=>{r(s||"Dashboard"),(async()=>{try{l(await (0,Z.mW)())}catch(e){console.error(e)}})()},[s]),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,a.jsx)(A.Z,{currentTab:o,onTabChange:(e,t)=>{r(t)}}),(0,a.jsxs)("div",{style:{flex:1,overflow:"hidden"},children:["Chat"===o?(0,a.jsx)(I,{}):"","Dashboard"===o?(0,a.jsx)(M,{projects:i}):"","Apps"===o?(0,a.jsx)(_,{}):""]})]})}}},function(e){e.O(0,[752,30,868,722,774,888,179],function(){return e(e.s=864)}),_N_E=e.O()}]);